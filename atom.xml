<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Shiming&#39;s Wiki</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://huahuayu.io/"/>
  <updated>2018-10-14T13:35:30.832Z</updated>
  <id>http://huahuayu.io/</id>
  
  <author>
    <name>Shiming</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Welcome to Shiming&#39;s Wiki</title>
    <link href="http://huahuayu.io/wiki/index/"/>
    <id>http://huahuayu.io/wiki/index/</id>
    <published>2018-10-14T05:55:57.000Z</published>
    <updated>2018-10-14T13:35:30.832Z</updated>
    
    <content type="html"><![CDATA[<p>Shiming是一个软件工程师，目前专注于区块链领域，这里是他整理知识的地方，欢迎你，请多指教！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Shiming是一个软件工程师，目前专注于区块链领域，这里是他整理知识的地方，欢迎你，请多指教！&lt;/p&gt;

      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Linux命令整理</title>
    <link href="http://huahuayu.io/wiki/Linux/Linux%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86/"/>
    <id>http://huahuayu.io/wiki/Linux/Linux命令整理/</id>
    <published>2017-04-17T14:51:30.000Z</published>
    <updated>2018-10-14T12:46:49.636Z</updated>
    
    <content type="html"><![CDATA[<h2 id="命令行移动"><a href="#命令行移动" class="headerlink" title="命令行移动"></a>命令行移动</h2><h3 id="Basic-moves"><a href="#Basic-moves" class="headerlink" title="Basic moves"></a>Basic moves</h3><p>Move back one character. Ctrl + b<br>Move forward one character. Ctrl + f<br>Delete current character. Ctrl + d<br>Delete previous character. Backspace<br>Undo. Ctrl + -</p><h3 id="Moving-faster"><a href="#Moving-faster" class="headerlink" title="Moving faster"></a>Moving faster</h3><p>Move to the start of line. Ctrl + a<br>Move to the end of line. Ctrl + e<br>Move forward a word. Meta + f (a word contains alphabets and digits, no symbols)<br>Move backward a word. Meta + b<br>Clear the screen. Ctrl + l</p><blockquote><p>What is Meta? Meta is your Alt key, normally. For Mac OSX user, you need to enable it yourself. Open Terminal &gt; Preferences &gt; Settings &gt; Keyboard, and enable Use option as meta key. Meta key, by convention, is used for operations on word.</p></blockquote><h3 id="Cut-and-paste-‘Kill-and-yank’-for-old-schoolers"><a href="#Cut-and-paste-‘Kill-and-yank’-for-old-schoolers" class="headerlink" title="Cut and paste (‘Kill and yank’ for old schoolers)"></a>Cut and paste (‘Kill and yank’ for old schoolers)</h3><p>Cut from cursor to the end of line. Ctrl + k<br>Cut from cursor to the end of word. Meta + d<br>Cut from cursor to the start of word. Meta + Backspace<br>Cut from cursor to previous whitespace. Ctrl + w<br>Paste the last cut text. Ctrl + y<br>Loop through and paste previously cut text. Meta + y (use it after Ctrl + y)<br>Loop through and paste the last argument of previous commands. Meta + .</p><h3 id="Search-the-command-history"><a href="#Search-the-command-history" class="headerlink" title="Search the command history"></a>Search the command history</h3><p>Search as you type. Ctrl + r and type the search term; Repeat Ctrl + r to loop through results.<br>Search the last remembered search term. Ctrl + r twice.<br>End the search at current history entry. Ctrl + j<br>Cancel the search and restore original line. Ctrl + g</p><h3 id="Need-more"><a href="#Need-more" class="headerlink" title="Need more?"></a>Need more?</h3><p>A comprehensive <a href="http://www.catonmat.net/blog/bash-emacs-editing-mode-cheat-sheet/" rel="external nofollow noopener noreferrer" target="_blank">bash editing mode cheatsheet</a> by Peteris Krumin (catonmat.net).<br>Vim users! Do you know you can switch to Vi-style editing mode? Here: <a href="http://www.catonmat.net/blog/bash-vi-editing-mode-cheat-sheet/" rel="external nofollow noopener noreferrer" target="_blank">vi-style cheatsheet</a>.<br>Bash command line editing is actually handled by GNU Readline Library. So just dive into <a href="http://www.gnu.org/software/readline/#Documentation" rel="external nofollow noopener noreferrer" target="_blank">Readline manual</a> for everything else.</p><h2 id="系统时间-date"><a href="#系统时间-date" class="headerlink" title="系统时间 - date"></a>系统时间 - date</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@red-hat-enterprise-linux ~]$ date        #打印系统时间</span><br><span class="line">2018年 07月 25日 星期三 19:38:53 CST</span><br><span class="line">[shiming@red-hat-enterprise-linux ~]$ date +%x    #打印日期</span><br><span class="line">2018年07月25日</span><br><span class="line">[shiming@red-hat-enterprise-linux ~]$ date --utc  #打印UTCtime</span><br><span class="line">2018年 07月 25日 星期三 11:55:17 UTC</span><br><span class="line">[shiming@red-hat-enterprise-linux ~]$ date +%T    #打印hh:mm:ss time</span><br><span class="line">19:56:57</span><br><span class="line">[shiming@red-hat-enterprise-linux ~]$ date +%s    #打印unix时间戳，精确到秒</span><br><span class="line">1532519829</span><br></pre></td></tr></table></figure><h2 id="系统语言-LANG"><a href="#系统语言-LANG" class="headerlink" title="系统语言 - LANG"></a>系统语言 - LANG</h2><h3 id="修改系统语言"><a href="#修改系统语言" class="headerlink" title="修改系统语言"></a>修改系统语言</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@red-hat-enterprise-linux ~]$ cat /etc/locale.conf  #查看linux系统语言设置</span><br><span class="line">LANG=en_US.UTF-8                                            #修改语言只需修改这行    </span><br><span class="line">[shiming@red-hat-enterprise-linux ~]$ echo $LANG            #查看ssh语言环境变量设置</span><br><span class="line">zh_CN.UTF-8                   #系统为英文，但ssh设置为中文，所以通过ssh远程连接还是会显示中文</span><br><span class="line">[shiming@red-hat-enterprise-linux ~]$ LANG=en_US.UTF-8      #通过给LANG赋值改变ssh语言（这样只是临时修改，下次ssh登录时还是会显示中文）</span><br></pre></td></tr></table></figure><h3 id="使用本机或服务器语言"><a href="#使用本机或服务器语言" class="headerlink" title="使用本机或服务器语言"></a>使用本机或服务器语言</h3><p>mac为例，在本机中 vi /etc/ssh/ssh_config,如果希望在ssh连接中传入loacle环境变量，则放开注释，否则用#号注释以下行（使用服务器的系统语言）<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SendEnv LANG LC_*</span><br></pre></td></tr></table></figure></p><h2 id="主机名-hostnamectl"><a href="#主机名-hostnamectl" class="headerlink" title="主机名 - hostnamectl"></a>主机名 - hostnamectl</h2><p>redhat中有三种主机名类型：–pretty, –static, and –transient， <a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/networking_guide/sec_configuring_host_names_using_hostnamectl" rel="external nofollow noopener noreferrer" target="_blank">参考1</a> and <a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/networking_guide/ch-configure_host_names" rel="external nofollow noopener noreferrer" target="_blank">参考2</a><br>| Hostname Type | Description |<br>| ——– | ——– |<br>| Static     | Assigned by the system admin     |<br>| Transient/Dynamic     | Assigned by DHCP or mDNS server at runtime     |<br>| Pretty     | Assigned by the system admin. Its can be used as Description like “Oracle DB server”     |</p><h3 id="查看和修改主机名"><a href="#查看和修改主机名" class="headerlink" title="查看和修改主机名"></a>查看和修改主机名</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@red-hat-enterprise-linux ~]$ hostnamectl          #查看所有主机名</span><br><span class="line">[shiming@red-hat-enterprise-linux ~]$ hostnamectl set-hostname redhat  #修改主机名（三个主机名都改为redhat）</span><br><span class="line">[shiming@redhat ~]$                              #修改后重启，主机名变了</span><br></pre></td></tr></table></figure><h3 id="修改主机名-临时修改"><a href="#修改主机名-临时修改" class="headerlink" title="修改主机名(临时修改)"></a>修改主机名(临时修改)</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@red-hat-enterprise-linux ~]$ hostname            #查看主机名</span><br><span class="line">red-hat-enterprise-linux.shared</span><br><span class="line">[shiming@red-hat-enterprise-linux ~]$ hostname redhat     #修改主机名为redhat</span><br><span class="line">hostname: you must be root to change the host name        #要root权限才能修改</span><br><span class="line">[shiming@red-hat-enterprise-linux ~]$ sudo hostname redhat #使用管理员权限修改</span><br><span class="line">[sudo] password for shiming: </span><br><span class="line">[shiming@red-hat-enterprise-linux ~]$ hostname            #查看修改后的主机名</span><br><span class="line">redhat</span><br><span class="line">                                                          #重启主机名不变</span><br></pre></td></tr></table></figure><h2 id="文件类型-file"><a href="#文件类型-file" class="headerlink" title="文件类型 -  file"></a>文件类型 -  file</h2><p>Linux不以文件名后缀来识别文件类型，通过file命令可以查看文件类型，一般文件类型分为3类</p><table><thead><tr><th>keyword</th><th>description</th></tr></thead><tbody><tr><td>text</td><td>可读文本</td></tr><tr><td>executable</td><td>可执行文件</td></tr><tr><td>data</td><td>除此之外的叫做data，usually “binary” or non-printable</td></tr></tbody></table><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ file /etc/passwd</span><br><span class="line">/etc/passwd: ASCII text</span><br><span class="line">[shiming@redhat ~]$ file /bin/passwd</span><br><span class="line">/bin/passwd: setuid ELF 64-bit LSB shared object, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.32, BuildID[sha1]=0a16a7915f7f9b01d96442755257e22067ce5b2c, stripped</span><br></pre></td></tr></table></figure><h2 id="文件统计-wc"><a href="#文件统计-wc" class="headerlink" title="文件统计 - wc"></a>文件统计 - wc</h2><p>wc for word count, print newline, word, and byte counts for each file</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ wc /etc/passwd        </span><br><span class="line">  46  100 2426 /etc/passwd                  #行数，word数，byte数，文件名</span><br><span class="line">[shiming@redhat ~]$ wc -l /etc/passwd       #只打印行数</span><br><span class="line">46 /etc/passwd</span><br></pre></td></tr></table></figure><h2 id="文件打印"><a href="#文件打印" class="headerlink" title="文件打印"></a>文件打印</h2><h3 id="开头-head"><a href="#开头-head" class="headerlink" title="开头 - head"></a>开头 - head</h3><p>默认打印开头10行<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ head /etc/passwd        #头10行</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line">sync:x:5:0:sync:/sbin:/bin/sync</span><br><span class="line">shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</span><br><span class="line">halt:x:7:0:halt:/sbin:/sbin/halt</span><br><span class="line">mail:x:8:12:mail:/var/spool/mail:/sbin/nologin</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br></pre></td></tr></table></figure></p><p>可指定打印行数 - head -n [linenum]<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ head -n 5 /etc/passwd    #头5行</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br></pre></td></tr></table></figure></p><h3 id="末尾-tail"><a href="#末尾-tail" class="headerlink" title="末尾 - tail"></a>末尾 - tail</h3><p>默认打印末尾10行<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ tail /etc/passwd</span><br><span class="line">nfsnobody:x:65534:65534:Anonymous NFS User:/var/lib/nfs:/sbin/nologin</span><br><span class="line">pcp:x:990:985:Performance Co-Pilot:/var/lib/pcp:/sbin/nologin</span><br><span class="line">gnome-initial-setup:x:989:984::/run/gnome-initial-setup/:/sbin/nologin</span><br><span class="line">nslcd:x:65:55:LDAP Client User:/:/sbin/nologin</span><br><span class="line">avahi:x:70:70:Avahi mDNS/DNS-SD Stack:/var/run/avahi-daemon:/sbin/nologin</span><br><span class="line">postfix:x:89:89::/var/spool/postfix:/sbin/nologin</span><br><span class="line">sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin</span><br><span class="line">oprofile:x:16:16:Special user account to be used by OProfile:/var/lib/oprofile:/sbin/nologin</span><br><span class="line">tcpdump:x:72:72::/:/sbin/nologin</span><br><span class="line">shiming:x:1000:1000:Shiming Liu:/home/shiming:/bin/bash</span><br></pre></td></tr></table></figure></p><p>指定打印行数 - tail -n [linenum]<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ tail -n 5 /etc/passwd</span><br><span class="line">postfix:x:89:89::/var/spool/postfix:/sbin/nologin</span><br><span class="line">sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin</span><br><span class="line">oprofile:x:16:16:Special user account to be used by OProfile:/var/lib/oprofile:/sbin/nologin</span><br><span class="line">tcpdump:x:72:72::/:/sbin/nologin</span><br><span class="line">shiming:x:1000:1000:Shiming Liu:/home/shiming:/bin/bash</span><br></pre></td></tr></table></figure></p><p>打印整个文件内容 - cat [filename]<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ tail /etc/passwd</span><br></pre></td></tr></table></figure></p><h2 id="文件管理"><a href="#文件管理" class="headerlink" title="文件管理"></a>文件管理</h2><h3 id="linux文件结构"><a href="#linux文件结构" class="headerlink" title="linux文件结构"></a>linux文件结构</h3><p><strong><em>man自带帮助页：<a href="https://www.systutorials.com/docs/linux/man/7-hier/" rel="external nofollow noopener noreferrer" target="_blank">man hier</a></em></strong><br><img src="https://box.kancloud.cn/f075453374d52e3ae00def2b6c7a3a41_1182x648.png" alt=""></p><table><thead><tr><th>位置</th><th>用途</th></tr></thead><tbody><tr><td>/usr</td><td>安装软件、共享的库，包括文件和静态只读程序数据。重要的子目录有：<br> -/usr/bin：用户命令。<br> -/usr/sbin：系统管理命令。<br> -/usr/local：本地自定义软件。</td></tr><tr><td>/etc</td><td>特定于此系统的配置文件, 静态的永久系统配置数据。</td></tr><tr><td>/var</td><td>特定于此系统的可变数据，在系统启动之间保持永久性。动态变化的文件（如数据库、缓存目录、日志文件、打印机后台处理文档内容和网站内容）可以在 /var 下找到。</td></tr><tr><td>/run</td><td>包含动态的、非永久的应用程序运行时数据,自上一次系统启动以来启动的进程的运行时数据。这包括进程 ID 文件和锁定文件，等等。此目录中的内容在重启时重新创建。（此目录整合了旧版 Red Hat Enterprise Linux 中的 /var/run 和 /var/lock。）</td></tr><tr><td>/home</td><td>普通用户主目录。</td></tr><tr><td>/root</td><td>root 主目录。</td></tr><tr><td>/tmp</td><td>临时文件目录。10 天内未访问、未更改或未修改的文件将自动从该目录中删除。还有一个临时目录 /var/tmp，该目录中的文件如果在 30 天内未曾访问、更改或修改过，将自动删除。</td></tr><tr><td>/boot</td><td>开机启动过程中所需的文件。</td></tr><tr><td>/dev</td><td>包含特殊的设备文件，供系统使用的物理硬件。</td></tr><tr><td>/media</td><td>可移除的设备挂载点，如cd、vcd、U盘</td></tr><tr><td>/usr/bin</td><td>普通用户命令和实用程序</td></tr><tr><td>/usr/sbin/</td><td>供root用户使用的二进制文件</td></tr></tbody></table><h3 id="打印当前工作目录"><a href="#打印当前工作目录" class="headerlink" title="打印当前工作目录"></a>打印当前工作目录</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat tmp]$ pwd</span><br><span class="line">/tmp</span><br></pre></td></tr></table></figure><h3 id="新建目录-mkdir"><a href="#新建目录-mkdir" class="headerlink" title="新建目录 - mkdir"></a>新建目录 - mkdir</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ mkdir tmp</span><br><span class="line">[shiming@redhat ~]$ ls</span><br><span class="line">Desktop  Documents  Downloads  Music  Pictures  Public  Templates  tmp  Videos</span><br></pre></td></tr></table></figure><h3 id="文件列表-ls"><a href="#文件列表-ls" class="headerlink" title="文件列表 - ls"></a>文件列表 - ls</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ ls -l                               #长列表</span><br><span class="line">[shiming@redhat ~]$ ls -a                               #显示包括隐藏文件</span><br><span class="line">[shiming@redhat ~]$ ls -R                               #递归列表（包含子文件夹）</span><br><span class="line">[shiming@redhat dir2]$ ls -alR /tmp/dir1                #可组合使用</span><br><span class="line">/tmp/dir1:</span><br><span class="line">total 12</span><br><span class="line">drwxrwxr-x.  3 shiming shiming 4096 Jul 26 22:25 .</span><br><span class="line">drwxrwxrwt. 14 root    root    4096 Jul 26 22:26 ..</span><br><span class="line">drwxrwxr-x.  2 shiming shiming 4096 Jul 26 22:26 dir2</span><br><span class="line"></span><br><span class="line">/tmp/dir1/dir2:</span><br><span class="line">total 8</span><br><span class="line">drwxrwxr-x. 2 shiming shiming 4096 Jul 26 22:26 .</span><br><span class="line">drwxrwxr-x. 3 shiming shiming 4096 Jul 26 22:25 ..</span><br><span class="line">-rw-rw-r--. 1 shiming shiming    0 Jul 26 22:26 file1</span><br><span class="line">-rw-rw-r--. 1 shiming shiming    0 Jul 26 22:26 .file2</span><br></pre></td></tr></table></figure><p>ls可以一次性列出几个文件夹中的文件<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ ls -l Music Pictures Videos         #列出N个文件夹</span><br><span class="line">Music:</span><br><span class="line">total 0</span><br><span class="line">-rw-rw-r--. 1 shiming shiming 0 Jul 27 23:25 song1.mp3</span><br><span class="line">-rw-rw-r--. 1 shiming shiming 0 Jul 27 23:25 song2.mp3</span><br><span class="line"></span><br><span class="line">Pictures:</span><br><span class="line">total 0</span><br><span class="line">-rw-rw-r--. 1 shiming shiming 0 Jul 27 23:26 snap1.jpg</span><br><span class="line">-rw-rw-r--. 1 shiming shiming 0 Jul 27 23:26 snap2.jpg</span><br><span class="line"></span><br><span class="line">Videos:</span><br><span class="line">total 0</span><br><span class="line">-rw-rw-r--. 1 shiming shiming 0 Jul 27 23:27 film1.avi</span><br><span class="line">-rw-rw-r--. 1 shiming shiming 0 Jul 27 23:27 film2.avi</span><br></pre></td></tr></table></figure></p><h3 id="切换目录"><a href="#切换目录" class="headerlink" title="切换目录"></a>切换目录</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat tmp]$ cd /    </span><br><span class="line">[shiming@redhat /]$ cd ~/tmp  </span><br><span class="line">[shiming@redhat tmp]$ cd -      #切到上一个工作目录</span><br><span class="line">/</span><br><span class="line">[shiming@redhat /]$ </span><br><span class="line">[shiming@redhat ~]$ cd ..       #切到父目录</span><br><span class="line">[shiming@redhat home]$ ls</span><br><span class="line">lost+found  shiming</span><br><span class="line">[shiming@redhat ~]$ cd ../..    #从当前位置上移两个级别</span><br><span class="line">[shiming@redhat /]$</span><br></pre></td></tr></table></figure><h3 id="新建文件-touch"><a href="#新建文件-touch" class="headerlink" title="新建文件 - touch"></a>新建文件 - touch</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat tmp]$ touch tmp1     #tmp1不存在则新建，存在则将文件的时间戳更新为当前时间</span><br></pre></td></tr></table></figure><p>新建多个文件<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat tmp]$ touch file1 file2</span><br></pre></td></tr></table></figure></p><p>使用大括号新建多个文件<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ touch file&#123;1..5&#125;       #如果文件名有规则的话可以这么建</span><br><span class="line">[shiming@redhat ~]$ ls -l</span><br><span class="line">-rw-rw-r--. 1 shiming shiming    0 Jul 28 09:41 file1</span><br><span class="line">-rw-rw-r--. 1 shiming shiming    0 Jul 28 09:41 file2</span><br><span class="line">-rw-rw-r--. 1 shiming shiming    0 Jul 28 09:41 file3</span><br><span class="line">-rw-rw-r--. 1 shiming shiming    0 Jul 28 09:41 file4</span><br><span class="line">-rw-rw-r--. 1 shiming shiming    0 Jul 28 09:41 file5</span><br></pre></td></tr></table></figure></p><h3 id="文件管理-1"><a href="#文件管理-1" class="headerlink" title="文件管理"></a>文件管理</h3><table><thead><tr><th>文件管理命令</th><th>单一来源</th><th>多来源</th></tr></thead><tbody><tr><td>复制文件</td><td>cp file1 file2</td><td>cp file1 file2 file3 dir④</td></tr><tr><td>复制文件(目标文件夹不存在)</td><td>mkdir -p ~/.litecoin &amp;&amp; cp bitcoin.conf litecin.conf</td></tr><tr><td>移动文件</td><td>mv file1 file2①</td><td>mv file1 file2 file3 dir④</td></tr><tr><td>删除文件</td><td>rm file1</td><td>rm -f file1 file2 file3⑤</td></tr><tr><td>创建目录</td><td>mkdir dir</td><td>mkdir -p part1/part2/dir⑥</td></tr><tr><td>复制目录</td><td>cp -r dir1 dir2②</td><td>cp -r dir1 dir2 dir3 dir4④</td></tr><tr><td>移动目录</td><td>mv dir1 dir2③</td><td>mv dir1 dir2 dir3 dir4④</td></tr><tr><td>删除目录</td><td>rm -r dir1②</td><td>rm -rf dir1 dir2 dir3⑤</td></tr></tbody></table><p>*注：<br>①结果为重命名。<br>②需要使用“递归”选项来处理来源目录。<br>③如果 dir2 存在，则结果为移动。如果 dir2 不存在，则结果为重命名。<br>④最后一个参数必须是目录。<br>⑤请谨慎使用“force”选项，系统将不会提示您确认操作。<br>⑥<strong>使用“创建父级”选项时应小心；无法捕获键入错误。</strong></p><h3 id="硬盘格式化和挂载"><a href="#硬盘格式化和挂载" class="headerlink" title="硬盘格式化和挂载"></a>硬盘格式化和挂载</h3><p><a href="https://help.aliyun.com/document_detail/25426.html" rel="external nofollow noopener noreferrer" target="_blank">https://help.aliyun.com/document_detail/25426.html</a></p><h3 id="远程文件传输"><a href="#远程文件传输" class="headerlink" title="远程文件传输"></a>远程文件传输</h3><p>在本地terminal下执行scp命令</p><ol><li><p>将本地文件复制到远程</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 将本地文件file1.txt复制到远程服务器家目录下</span><br><span class="line">$ scp file1.txt root@47.52.241.187:~</span><br></pre></td></tr></table></figure></li><li><p>将本地文件夹复制到远程(-r选项)</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 将本地文件夹dir1复制到远程家目录</span><br><span class="line">$ scp -r dir1 root@47.52.241.187:~</span><br></pre></td></tr></table></figure></li><li><p>将远程文件复制到本地</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 将远程文件file2.txt 复制到本地工作目录</span><br><span class="line">$ scp root@47.52.241.187:~/file2.txt .</span><br></pre></td></tr></table></figure></li><li><p>将远程文件夹复制到本地</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 将远程目录dir1复制到本地当前工作目录</span><br><span class="line">$ scp -r root@47.52.241.187:~/dir1 .</span><br></pre></td></tr></table></figure></li><li><p>将多个本地文件复制到远程</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Shimings-Air:0-transfer Shiming$ scp file4 file5 root@47.52.241.187:~</span><br><span class="line"># 只要输一次密码</span><br><span class="line">Enter passphrase for key &apos;/Users/Shiming/.ssh/id_rsa&apos;: </span><br><span class="line">file4                                         100%    0     0.0KB/s   00:00    </span><br><span class="line">file5                                         100%    0     0.0KB/s   00:00</span><br></pre></td></tr></table></figure></li><li><p>将多个远程文件复制到本地</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 几个文件就输几次密码</span><br><span class="line">Shimings-Air:~ Shiming$ scp root@47.52.241.187:~/&#123;file1.txt,file2.txt&#125; .</span><br><span class="line">Enter passphrase for key &apos;/Users/Shiming/.ssh/id_rsa&apos;: </span><br><span class="line">file1.txt                                     100%   26     0.3KB/s   00:00    </span><br><span class="line">Enter passphrase for key &apos;/Users/Shiming/.ssh/id_rsa&apos;: </span><br><span class="line">file2.txt                                     100%   26     0.3KB/s   00:00</span><br></pre></td></tr></table></figure></li></ol><h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><h3 id="修改密码-passwd"><a href="#修改密码-passwd" class="headerlink" title="修改密码 - passwd"></a>修改密码 - passwd</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@red-hat-enterprise-linux ~]$ passwd      #修改当前用户密码</span><br><span class="line">更改用户 shiming 的密码 。</span><br><span class="line">为 shiming 更改 STRESS 密码。</span><br><span class="line">（当前）UNIX 密码：</span><br><span class="line">新的 密码：</span><br></pre></td></tr></table></figure><h3 id="切换用户"><a href="#切换用户" class="headerlink" title="切换用户"></a>切换用户</h3><p><code>su</code> 切换到root用户<br><code>su anotheruser</code> 将当前用户的环境变量带到新用户下<br><code>su - anotheruser</code> 使用新用户的环境变量</p><h2 id="命令替换"><a href="#命令替换" class="headerlink" title="命令替换"></a>命令替换</h2><p>当命令包含反引号（注意，不是单引号），或$(command)时，允许命令替换<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ echo today is `date +%A`    #反引号和单引号容易引起混淆</span><br><span class="line">today is Saturday</span><br><span class="line">[shiming@redhat ~]$ echo today is $(date +%A)   #建议使用$(command)</span><br><span class="line">today is Saturday</span><br></pre></td></tr></table></figure></p><h2 id="命令历史"><a href="#命令历史" class="headerlink" title="命令历史"></a>命令历史</h2><h3 id="打印命令行历史"><a href="#打印命令行历史" class="headerlink" title="打印命令行历史"></a>打印命令行历史</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ history</span><br><span class="line">  189  wc -l /etc/passwd</span><br><span class="line">  190  man wc</span><br><span class="line">  191  ls /etc/passwd</span><br><span class="line">  192  su</span><br><span class="line">  193  history</span><br><span class="line">  194  ls /etc/passwd</span><br><span class="line">  195  mkdir tmp</span><br><span class="line">  196  ls /etc/passwd</span><br><span class="line">  197  man wc</span><br><span class="line">  198  history</span><br></pre></td></tr></table></figure><h3 id="执行历史命令行"><a href="#执行历史命令行" class="headerlink" title="执行历史命令行"></a>执行历史命令行</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">  193  history</span><br><span class="line">  194  ls /etc/passwd</span><br><span class="line">  195  mkdir tmp</span><br><span class="line">  196  ls /etc/passwd</span><br><span class="line">  197  man wc</span><br><span class="line">  198  history</span><br><span class="line">[shiming@redhat ~]$ !194            #!+编号 可以执行历史命令行</span><br><span class="line">ls /etc/passwd</span><br><span class="line">/etc/passwd</span><br><span class="line">[shiming@redhat ~]$ !m              #!+string 执行最近的一个以m开头的命令行，即 man wc</span><br></pre></td></tr></table></figure><h3 id="搜索命令历史"><a href="#搜索命令历史" class="headerlink" title="搜索命令历史"></a>搜索命令历史</h3><p>搜索<code>ctrl + r</code> , 取消搜索 <code>ctrl + g</code></p><h3 id="后台运行命令"><a href="#后台运行命令" class="headerlink" title="后台运行命令"></a>后台运行命令</h3><p>nohup command &amp;<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ nohup geth --testnet --datadir /mnt/ethereum/ --syncmode <span class="string">"full"</span> --rpc --ws &amp;</span><br></pre></td></tr></table></figure></p><p>如果要让正在运行的”前台任务”变为”后台任务”，可以先按ctrl + z，然后执行bg命令（让最近一个暂停的”后台任务”继续执行）</p><h3 id="守护进程"><a href="#守护进程" class="headerlink" title="守护进程"></a>守护进程</h3><p><a href="http://www.ruanyifeng.com/blog/2016/02/linux-daemon.html" rel="external nofollow noopener noreferrer" target="_blank">http://www.ruanyifeng.com/blog/2016/02/linux-daemon.html</a></p><h3 id="systemd"><a href="#systemd" class="headerlink" title="systemd"></a>systemd</h3><p><a href="http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-commands.html" rel="external nofollow noopener noreferrer" target="_blank">http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-commands.html</a></p><h2 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h2><p>端口号说明：<br>| 端口号 | 说明 |<br>| ——– | ——– |<br>| 0~1023     | the Well Known Ports, also referred to as System Ports.     |<br>| 1024~49151     | the Registered Ports, also known as User Ports.     |<br>| 49152~65535     | the Dynamic Ports, also referred to as the Private Ports.     | </p><p>查看服务和端口绑定信息：<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ cat /etc/services</span><br></pre></td></tr></table></figure></p><p>列出所有打开的端口或正在运行的端口（包括TCP/UDP）:<br>-l – prints only listening sockets<br>-n – shows port number<br>-t – enables listing of tcp ports<br>-u – enables listing of udp ports<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ netstat -lntu</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State</span><br><span class="line">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN</span><br><span class="line">tcp        0      0 0.0.0.0:18333           0.0.0.0:*               LISTEN</span><br><span class="line">tcp        0      0 127.0.0.1:8545          0.0.0.0:*               LISTEN</span><br><span class="line">tcp        0      0 127.0.0.1:8546          0.0.0.0:*               LISTEN</span><br><span class="line">tcp6       0      0 :::18333                :::*                    LISTEN</span><br><span class="line">tcp6       0      0 :::30303                :::*                    LISTEN</span><br><span class="line">udp        0      0 0.0.0.0:68              0.0.0.0:*</span><br><span class="line">udp        0      0 172.31.42.181:123       0.0.0.0:*</span><br><span class="line">udp        0      0 127.0.0.1:123           0.0.0.0:*</span><br><span class="line">udp        0      0 0.0.0.0:123             0.0.0.0:*</span><br><span class="line">udp6       0      0 :::30303                :::*</span><br><span class="line">udp6       0      0 :::123                  :::*</span><br></pre></td></tr></table></figure></p><p>或使用 ss -lntu<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ss -lntu</span><br><span class="line">Netid State      Recv-Q Send-Q              Local Address:Port                             Peer Address:Port</span><br><span class="line">udp   UNCONN     0      0                               *:68                                          *:*</span><br><span class="line">udp   UNCONN     0      0                   172.31.42.181:123                                         *:*</span><br><span class="line">udp   UNCONN     0      0                       127.0.0.1:123                                         *:*</span><br><span class="line">udp   UNCONN     0      0                               *:123                                         *:*</span><br><span class="line">udp   UNCONN     0      0                              :::30303                                      :::*</span><br><span class="line">udp   UNCONN     0      0                              :::123                                        :::*</span><br><span class="line">tcp   LISTEN     0      128                             *:22                                          *:*</span><br><span class="line">tcp   LISTEN     0      128                             *:18333                                       *:*</span><br><span class="line">tcp   LISTEN     0      128                     127.0.0.1:8545                                        *:*</span><br><span class="line">tcp   LISTEN     0      128                     127.0.0.1:8546                                        *:*</span><br><span class="line">tcp   LISTEN     0      128                            :::18333                                      :::*</span><br><span class="line">tcp   LISTEN     0      128                            :::30303                                      :::*</span><br></pre></td></tr></table></figure></p><p>重启网络 - ubuntu<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo service networking restart</span><br></pre></td></tr></table></figure></p><h3 id="查看端口是否打开"><a href="#查看端口是否打开" class="headerlink" title="查看端口是否打开"></a>查看端口是否打开</h3><p>1.你可以使用 lsof 命令来查看某一端口是否开放。查看端口可以这样来使用，我就以80端口为例：<br>lsof -i:80<br>如果有显示说明已经开放了，如果没有显示说明没有开放<br>2.netstat -aptn执行看看，是否监听在0.0.0.0:3306<br>3.<br>netstat -nupl (UDP类型的端口)<br>netstat -ntpl (TCP类型的端口)<br>例如<br>4.telnet ip  端口号   方式测试远程主机端口是否打开<br>参考：<a href="https://blog.csdn.net/m0_37975886/article/details/78405808?utm_source=copy" rel="external nofollow noopener noreferrer" target="_blank">https://blog.csdn.net/m0_37975886/article/details/78405808?utm_source=copy</a> </p><h3 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">root@iZj6c48apyeg9dvouqz3uxZ:~<span class="comment"># sudo ufw status verbose  #查看防火墙详情</span></span><br><span class="line">Status: inactive  <span class="comment">#未开启</span></span><br><span class="line">root@iZj6c48apyeg9dvouqz3uxZ:~<span class="comment"># sudo ufw allow 8545/tcp  #允许端口tcp访问</span></span><br><span class="line">Rules updated</span><br><span class="line">Rules updated (v6)</span><br><span class="line">root@iZj6c48apyeg9dvouqz3uxZ:~<span class="comment"># sudo ufw allow 8546/tcp</span></span><br><span class="line">Rules updated</span><br><span class="line">Rules updated (v6)</span><br><span class="line">root@iZj6c48apyeg9dvouqz3uxZ:~<span class="comment"># sudo ufw allow 8545/udp   #允许端口udp访问</span></span><br><span class="line">Rules updated</span><br><span class="line">Rules updated (v6)</span><br><span class="line">root@iZj6c48apyeg9dvouqz3uxZ:~<span class="comment"># sudo ufw allow 8546/udp</span></span><br><span class="line">Rules updated</span><br><span class="line">Rules updated (v6)</span><br><span class="line">root@iZj6c48apyeg9dvouqz3uxZ:~<span class="comment"># sudo ufw status verbose</span></span><br><span class="line">Status: inactive</span><br><span class="line">root@iZj6c48apyeg9dvouqz3uxZ:~<span class="comment"># sudo ufw enable  #开启防火墙</span></span><br><span class="line">Command may disrupt existing ssh connections. Proceed with operation (y|n)? y</span><br><span class="line">Firewall is active and enabled on system startup</span><br><span class="line">root@iZj6c48apyeg9dvouqz3uxZ:~<span class="comment"># sudo ufw allow http #开启80端口(http)访问</span></span><br><span class="line">Rule added</span><br><span class="line">Rule added (v6)</span><br><span class="line">root@iZj6c48apyeg9dvouqz3uxZ:~<span class="comment"># sudo ufw allow https #开启443端口(https)访问</span></span><br><span class="line">Rule added</span><br><span class="line">Rule added (v6)</span><br><span class="line">root@iZj6c48apyeg9dvouqz3uxZ:~<span class="comment"># sudo ufw allow ssh #开启22端口(ssh)访问</span></span><br><span class="line">Rule added</span><br><span class="line">Rule added (v6)</span><br><span class="line">root@iZj6c48apyeg9dvouqz3uxZ:~<span class="comment"># sudo service networking restart</span></span><br><span class="line">root@iZj6c48apyeg9dvouqz3uxZ:~<span class="comment"># sudo ufw status verbose</span></span><br><span class="line">Status: active</span><br><span class="line">Logging: on (low)</span><br><span class="line">Default: deny (incoming), allow (outgoing), disabled (routed)</span><br><span class="line">New profiles: skip</span><br><span class="line"></span><br><span class="line">To                         Action      From</span><br><span class="line">--                         ------      ----</span><br><span class="line">8545/tcp                   ALLOW IN    Anywhere</span><br><span class="line">8546/tcp                   ALLOW IN    Anywhere</span><br><span class="line">8545/udp                   ALLOW IN    Anywhere</span><br><span class="line">8546/udp                   ALLOW IN    Anywhere</span><br><span class="line">80                         ALLOW IN    Anywhere</span><br><span class="line">443                        ALLOW IN    Anywhere</span><br><span class="line">22                         ALLOW IN    Anywhere</span><br><span class="line">8545/tcp (v6)              ALLOW IN    Anywhere (v6)</span><br><span class="line">8546/tcp (v6)              ALLOW IN    Anywhere (v6)</span><br><span class="line">8545/udp (v6)              ALLOW IN    Anywhere (v6)</span><br><span class="line">8546/udp (v6)              ALLOW IN    Anywhere (v6)</span><br><span class="line">80 (v6)                    ALLOW IN    Anywhere (v6)</span><br><span class="line">443 (v6)                   ALLOW IN    Anywhere (v6)</span><br><span class="line">22 (v6)                    ALLOW IN    Anywhere (v6)</span><br></pre></td></tr></table></figure><h3 id="网络测试"><a href="#网络测试" class="headerlink" title="网络测试"></a>网络测试</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Shimings-Air:~ Shiming$ traceroute -p 8545 47.75.70.201</span><br><span class="line">traceroute to 47.75.70.201 (47.75.70.201), 64 hops max, 52 byte packets</span><br><span class="line"> 1  172.16.0.1 (172.16.0.1)  4.037 ms  1.054 ms  1.719 ms</span><br><span class="line"> 2  192.168.5.1 (192.168.5.1)  5.688 ms  8.667 ms  6.993 ms</span><br><span class="line"> 3  100.64.0.1 (100.64.0.1)  16.788 ms  5.867 ms  7.902 ms</span><br><span class="line"> 4  213.106.38.59.broad.fs.gd.dynamic.163data.com.cn (59.38.106.213)  9.796 ms  8.975 ms  8.774 ms</span><br><span class="line"> 5  183.56.65.62 (183.56.65.62)  13.150 ms  10.301 ms</span><br><span class="line">    183.56.65.66 (183.56.65.66)  11.280 ms</span><br><span class="line"> 6  59.43.80.21 (59.43.80.21)  12.356 ms  10.645 ms  11.649 ms</span><br><span class="line"> 7  59.43.130.106 (59.43.130.106)  12.012 ms  51.356 ms  43.798 ms</span><br><span class="line"> 8  59.43.187.126 (59.43.187.126)  16.115 ms</span><br><span class="line">    59.43.187.122 (59.43.187.122)  13.389 ms</span><br><span class="line">    59.43.187.150 (59.43.187.150)  11.819 ms</span><br><span class="line"> 9  59.43.187.178 (59.43.187.178)  16.522 ms</span><br><span class="line">    59.43.183.106 (59.43.183.106)  21.514 ms</span><br><span class="line">    59.43.188.126 (59.43.188.126)  18.220 ms</span><br><span class="line">10  59.43.249.10 (59.43.249.10)  17.732 ms</span><br><span class="line">    59.43.186.126 (59.43.186.126)  22.963 ms</span><br><span class="line">    59.43.186.122 (59.43.186.122)  14.746 ms</span><br><span class="line">11  210.48.139.70 (210.48.139.70)  21.244 ms</span><br><span class="line">    210.48.136.158 (210.48.136.158)  19.783 ms</span><br><span class="line">    203.100.48.254 (203.100.48.254)  22.733 ms</span><br><span class="line">12  * * *</span><br><span class="line">13  11.211.16.137 (11.211.16.137)  24.828 ms</span><br><span class="line">    11.211.16.105 (11.211.16.105)  22.569 ms</span><br><span class="line">    11.211.20.165 (11.211.20.165)  30.418 ms</span><br><span class="line">14  * * *</span><br><span class="line">15  * * *</span><br><span class="line">16  * * *</span><br><span class="line">17  * * *</span><br></pre></td></tr></table></figure><h2 id="编辑命令行"><a href="#编辑命令行" class="headerlink" title="编辑命令行"></a>编辑命令行</h2><p>分隔同一行中的命令</p><table><thead><tr><th>shell命令</th><th>描述</th></tr></thead><tbody><tr><td>ctrl+a</td><td>跳到命令行开头</td></tr><tr><td>ctrl+e</td><td>跳到命令行结尾</td></tr><tr><td>ctrl+u</td><td>删除光标前内容</td></tr><tr><td>ctrl+k</td><td>删除光标后内容</td></tr><tr><td>ctrl+左箭头</td><td>向左跳一字</td></tr><tr><td>ctrl+右箭头</td><td>向右跳一字</td></tr><tr><td>ctrl+r</td><td>在命令行历史中搜索某一模式命令</td></tr><tr><td>;</td><td>分隔同一行中的命令</td></tr><tr><td>Esc + .</td><td>复制以前命令的最后一个参数</td></tr></tbody></table><h2 id="bash配置文件"><a href="#bash配置文件" class="headerlink" title="bash配置文件"></a>bash配置文件</h2><p>执行顺序： /etc/profile -&gt; (~/.bash_profile | ~/.bash_login | ~/.profile) -&gt; ~/.bashrc -&gt; /etc/bashrc -&gt; ~/.bash_logout  见<a href="https://www.thegeekstuff.com/2008/10/execution-sequence-for-bash_profile-bashrc-bash_login-profile-and-bash_logout/" rel="external nofollow noopener noreferrer" target="_blank">参考一</a></p><table><thead><tr><th>file</th><th>Interactive login</th><th>Interactive non-login</th><th>Script</th><th>Description</th></tr></thead><tbody><tr><td>/etc/profile</td><td>A</td><td></td><td></td><td>system wide version of ~/.profit, execute once when user login. Executed only for interactive shells</td></tr><tr><td>/etc/profile.d/*</td><td>A</td><td></td><td></td><td>user defined /etc/profile, invoked by /etc/profile</td></tr><tr><td>/etc/bashrc or /etc/bash.bashrc</td><td></td><td>A</td><td></td><td>system wide version of ~/.bashrc. Executed for both interactive and non-interactive shells. In fact in Ubuntu the /etc/profile calls the /etc/bashrc directly</td></tr><tr><td>~/.bashrc</td><td></td><td>B</td><td></td><td>user defined shell config</td></tr><tr><td>~/.bash_profile</td><td>B1</td><td></td><td></td><td></td></tr><tr><td>~/.bash_login</td><td>B2</td><td></td><td></td><td></td></tr><tr><td>~/.profile</td><td>B3</td><td></td><td></td><td></td></tr><tr><td>BASH_ENV</td><td></td><td></td><td>A</td><td></td></tr><tr><td>~/.bash_logout</td><td>C</td><td></td><td></td></tr></tbody></table><h2 id="查看环境变量"><a href="#查看环境变量" class="headerlink" title="查看环境变量"></a>查看环境变量</h2><p>查看所有环境变量使用printenv命令<br><code>➜  ~ printenv</code></p><h2 id="export"><a href="#export" class="headerlink" title="export"></a>export</h2><p>bash内建命令，使得子进程可以复用父进程的环境变量。通过命令行敲的export命令，不管是导入还是删除都是临时的。如果需要永久保持有效需要写在~/.bashrc等配置文件中。</p><h2 id="unset环境变量"><a href="#unset环境变量" class="headerlink" title="unset环境变量"></a>unset环境变量</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">➜  ~ <span class="built_in">export</span> TMPVAR=<span class="string">"XX"</span></span><br><span class="line">➜  ~ printenv TMPVAR</span><br><span class="line">XX</span><br><span class="line">➜  ~ <span class="built_in">unset</span> TMPVAR</span><br><span class="line">➜  ~ printenv TMPVAR</span><br></pre></td></tr></table></figure><h2 id="查看单个环境变量"><a href="#查看单个环境变量" class="headerlink" title="查看单个环境变量"></a>查看单个环境变量</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">➜  ~ printenv HOME</span><br><span class="line">/Users/shiming</span><br></pre></td></tr></table></figure><h2 id="常见环境变量"><a href="#常见环境变量" class="headerlink" title="常见环境变量"></a>常见环境变量</h2><table><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td>EDITOR</td><td>The program to run to perform edits.</td></tr><tr><td>HOME</td><td>The Home directory of the user.</td></tr><tr><td>LOGNAME</td><td>The login name of the user.</td></tr><tr><td>MAIL</td><td>The location of the user’s local inbox.</td></tr><tr><td>OLDPWD</td><td>The previous working directory.</td></tr><tr><td>PATH</td><td>A colon separated list of directories to search for commands.</td></tr><tr><td>PAGER</td><td>This program may be called to view a file.</td></tr><tr><td>PS1</td><td>PS1 The primary prompt string.</td></tr><tr><td>PWD</td><td>The present working directory.</td></tr><tr><td>USER</td><td>The username of the user.</td></tr></tbody></table><h3 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明"></a>参数说明</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-p</span><br><span class="line">List of all names that are exported in the current shell</span><br><span class="line">-n</span><br><span class="line">Remove names from export list</span><br><span class="line">-f</span><br><span class="line">Names are exported as functions</span><br></pre></td></tr></table></figure><h3 id="export作用解析"><a href="#export作用解析" class="headerlink" title="export作用解析"></a>export作用解析</h3><p>没用export前<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ name=shiming            #设置变量name=shimiing</span><br><span class="line">[shiming@redhat ~]$ echo $name              #在当前进程下输出</span><br><span class="line">shiming                                     #正确输出</span><br><span class="line">[shiming@redhat ~]$ bash                    #新开一个进程</span><br><span class="line">[shiming@redhat ~]$ echo $name              #在新开的进程输出$name</span><br><span class="line">                                            #无效</span><br><span class="line">[shiming@redhat ~]$</span><br></pre></td></tr></table></figure></p><p>用了export后<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ name=shiming            #设置变量name=shiming</span><br><span class="line">[shiming@redhat ~]$ echo $name              #当前进程输出</span><br><span class="line">shiming                                     #正确输出</span><br><span class="line">[shiming@redhat ~]$ export name             #export变量</span><br><span class="line">[shiming@redhat ~]$ bash                    #新开进程</span><br><span class="line">[shiming@redhat ~]$ echo $name              #再次输出</span><br><span class="line">shiming                                     #正确输出</span><br></pre></td></tr></table></figure></p><h3 id="append-to-the-PATH"><a href="#append-to-the-PATH" class="headerlink" title="append to the PATH"></a>append to the PATH</h3><p>给PATH加一个路径，用冒号分隔<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ export PATH=$PATH:/home/himanshu/practice/</span><br></pre></td></tr></table></figure></p><h3 id="固化环境变量"><a href="#固化环境变量" class="headerlink" title="固化环境变量"></a>固化环境变量</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export name=&quot;xiongxiong&quot;                        #在~/.bashrc文件末尾加上这句</span><br><span class="line">[shiming@redhat shiming]$ echo $name            #打印为空</span><br><span class="line"></span><br><span class="line">[shiming@redhat shiming]$ source .bashrc        #执行.bashrc</span><br><span class="line">[shiming@redhat shiming]$ echo $name            #打印有值</span><br><span class="line">xiongxiong</span><br><span class="line">[shiming@redhat shiming]$ unset name            #如果不想用这个环境变量了，用unset暂时删除</span><br><span class="line">[shiming@redhat shiming]$ echo $name            #打印为空</span><br></pre></td></tr></table></figure><h2 id="局部和全局环境变量设置"><a href="#局部和全局环境变量设置" class="headerlink" title="局部和全局环境变量设置"></a>局部和全局环境变量设置</h2><p>参考<a href="https://www.tecmint.com/set-unset-environment-variables-in-linux/" rel="external nofollow noopener noreferrer" target="_blank">这里</a></p><h2 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h2><h3 id="查看进程资源占用"><a href="#查看进程资源占用" class="headerlink" title="查看进程资源占用"></a>查看进程资源占用</h3><p>使用命令<code>top</code>(或 <code>htop</code>，需要安装)<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Processes: 501 total, 2 running, 499 sleeping, 2532 threads                                              09:39:06</span><br><span class="line">Load Avg: 2.68, 1.92, 1.79  CPU usage: 1.26% user, 1.42% sys, 97.30% idle</span><br><span class="line">SharedLibs: 229M resident, 47M data, 86M linkedit.</span><br><span class="line">MemRegions: 171203 total, 8320M resident, 84M private, 1873M shared.</span><br><span class="line">PhysMem: 16G used (6889M wired), 118M unused.</span><br><span class="line">VM: 2489G vsize, 1121M framework vsize, 30538579(0) swapins, 32834518(0) swapouts.</span><br><span class="line">Networks: packets: 60080455/70G <span class="keyword">in</span>, 68155895/7815M out. Disks: 6097134/243G <span class="built_in">read</span>, 6811848/392G written.</span><br><span class="line"></span><br><span class="line">PID    COMMAND      %CPU TIME     <span class="comment">#TH    #WQ  #PORTS MEM    PURG   CMPRS  PGRP  PPID  STATE    BOOSTS</span></span><br><span class="line">44018  top          5.0  00:02.23 1/1    0    26     6032K  0B     0B     44018 33399 running  *0[1]</span><br><span class="line">44017  sleep        0.0  00:00.00 1      0    10     328K   0B     0B     26499 26726 sleeping *0[1]</span><br><span class="line">44000  quicklookd   0.0  00:00.16 4      1    88     5104K  28K    0B     44000 1     sleeping  0[0]</span><br><span class="line">43947  com.apple.iC 0.0  00:00.14 2      1    59     3032K  0B     256K   43947 1     sleeping  0[0]</span><br><span class="line">43904  ocspd        0.0  00:00.02 2      1    36     1912K  0B     0B     43904 1     sleeping *0[1]</span><br><span class="line">43881  Google Chrom 0.0  00:00.79 10     2    73     29M    4096B  9560K  1123  1123  sleeping *0[3]</span><br><span class="line">43880  Google Chrom 0.0  00:05.02 16     1    125    98M    0B     19M    1123  1123  sleeping *0[3]</span><br><span class="line">43879  Google Chrom 0.0  00:00.31 16     1    122    17M    0B     12M    1123  1123  sleeping *0[3]</span><br><span class="line">43769  MTLCompilerS 0.0  00:00.06 3      3    27     16K    0B     10M    43769 1     sleeping  0[2]</span><br><span class="line">43764  com.apple.pr 0.0  00:02.17 4      1    274    5948K  0B     21M    43764 1     sleeping *0[598]</span><br><span class="line">43763  MTLCompilerS 0.0  00:00.07 3      3    27     12K    0B     10M    43763 1     sleeping  0[2]</span><br><span class="line">43757  System Prefe 0.0  00:02.70 4      1    296    5632K  8192B  18M    43757 1     sleeping *0[304]</span><br><span class="line">43729  com.apple.no 0.0  00:00.04 2      1    44     28K    0B     1424K  43729 1     sleeping  0[1]</span><br><span class="line">43727  mdworker     0.0  00:00.07 3      1    54     52K    0B     3232K  43727 1     sleeping *0[1]</span><br><span class="line">43711  Google Chrom 0.0  00:25.45 17     1    133    44M    0B     125M   1123  1123  sleeping *0[24]</span><br><span class="line">43004  Google Chrom 0.2  04:07.35 19     1    150    208M   0B     62M    1123  1123  sleeping *0[26]</span><br></pre></td></tr></table></figure></p><h3 id="进程后台运行"><a href="#进程后台运行" class="headerlink" title="进程后台运行"></a>进程后台运行</h3><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>command &amp;</td><td>进程后台运行</td></tr><tr><td>ctrl + c</td><td>停止前台运行进程</td></tr><tr><td>ctrl + z</td><td>挂起当前进程</td></tr><tr><td>bg</td><td>讲挂起的进程放在后台继续运行（需配合ctrl + z使用）</td></tr><tr><td>bg [%num]</td><td>将进程放在后台运行</td></tr><tr><td>fg [%num]</td><td>将进程放在前台运行</td></tr><tr><td>kill -l</td><td>查看所有中断信号</td></tr><tr><td>kill -9 pid</td><td>杀死进程</td></tr><tr><td>jobs</td><td>查看jobs</td></tr></tbody></table><h3 id="查看指定进程"><a href="#查看指定进程" class="headerlink" title="查看指定进程"></a>查看指定进程</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat profile.d]$ ps -p 1        #查看pid = 1的进程信息</span><br><span class="line">  PID TTY          TIME CMD</span><br><span class="line">    1 ?        00:00:03 systemd</span><br></pre></td></tr></table></figure><h3 id="打印当前进程id"><a href="#打印当前进程id" class="headerlink" title="打印当前进程id"></a>打印当前进程id</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat profile.d]$ echo $$        #两个美元符号打印当前进程名</span><br><span class="line">19376</span><br></pre></td></tr></table></figure><h3 id="查询子进程信息"><a href="#查询子进程信息" class="headerlink" title="查询子进程信息"></a>查询子进程信息</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat profile.d]$ echo $$        #当前进程</span><br><span class="line">19376</span><br><span class="line">[shiming@redhat profile.d]$ bash           #新起一个子进程</span><br><span class="line">[shiming@redhat profile.d]$ echo $$        #获取子进程id</span><br><span class="line">21139</span><br><span class="line">[shiming@redhat profile.d]$ ps --ppid 19376  #查看子进程信息</span><br><span class="line">  PID TTY          TIME CMD</span><br><span class="line">21139 pts/0    00:00:00 bash</span><br></pre></td></tr></table></figure><h3 id="进程前台-后台运行切换"><a href="#进程前台-后台运行切换" class="headerlink" title="进程前台/后台运行切换"></a>进程前台/后台运行切换</h3><p><a href="https://www.thegeekstuff.com/2010/05/unix-background-job/" rel="external nofollow noopener noreferrer" target="_blank">https://www.thegeekstuff.com/2010/05/unix-background-job/</a></p><h3 id="查看"><a href="#查看" class="headerlink" title="查看"></a>查看</h3><h2 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h2><h3 id="系统自带教程"><a href="#系统自带教程" class="headerlink" title="系统自带教程"></a>系统自带教程</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ vimtutor</span><br></pre></td></tr></table></figure><h3 id="常用命令列表"><a href="#常用命令列表" class="headerlink" title="常用命令列表"></a>常用命令列表</h3><table><thead><tr><th>操作</th><th>命令</th><th>备注</th></tr></thead><tbody><tr><td>光标左移</td><td>h</td><td></td></tr><tr><td>光标右移</td><td>l</td><td></td></tr><tr><td>光标下移</td><td>j</td><td></td></tr><tr><td>光标上移</td><td>k</td><td></td></tr><tr><td>插入模式</td><td>i</td><td></td></tr><tr><td>附加模式</td><td>a</td><td></td></tr><tr><td>复制行</td><td>yy or Y</td><td></td></tr><tr><td>剪切行</td><td>dd</td><td></td></tr><tr><td>剪切两行</td><td>2dd</td><td></td></tr><tr><td>粘贴（光标后）</td><td>p</td><td>p for paste</td></tr><tr><td>粘贴（光标前）</td><td>P（大写）</td><td></td></tr><tr><td>复制行</td><td>yy</td><td></td></tr><tr><td>显示行号</td><td>:set number</td><td></td></tr><tr><td>不显示行号</td><td>:set nonumber</td><td></td></tr><tr><td>显示所有设置项</td><td>:set all</td><td></td></tr><tr><td>显示用户设置</td><td>:set</td><td></td></tr><tr><td>删除到本单词结尾（包括紧跟着的空格）</td><td>dw</td><td></td></tr><tr><td>删除到两个单词结尾（包括紧跟着的空格）</td><td>d2w</td><td>以此类推</td></tr><tr><td>删除到本单词结尾（不包括紧跟的空格）</td><td>de</td><td></td></tr><tr><td>删除到两个单词结尾（不包括紧跟的空格）</td><td>d2e</td><td>以此类推</td></tr><tr><td>删除到本行末尾</td><td>d$</td><td></td></tr><tr><td>删除到单词结尾并进入插入模式</td><td>ce</td><td>方便修改该单词</td></tr><tr><td>删除到本行末尾并进入插入模式</td><td>c$</td><td>方便修改单行</td></tr><tr><td>撤销</td><td>u</td><td></td></tr><tr><td>撤销之撤销</td><td>ctrl + r</td><td>r for redo I think</td></tr><tr><td>保存</td><td>:w</td><td></td></tr><tr><td>另存为</td><td>:w + filename</td><td>将目前编辑的文件另存为filename</td></tr><tr><td>保存并退出</td><td>:wq or :ZZ</td><td></td></tr><tr><td>不保存退出</td><td>:q!</td><td>q for quit</td></tr><tr><td>跳到词首</td><td>w</td><td>w for word</td></tr><tr><td>跳到下2个词首</td><td>2w</td><td>以此类推</td></tr><tr><td>跳到词尾</td><td>e</td><td>e for end</td></tr><tr><td>跳到下一词尾</td><td>2e</td><td>以此类推</td></tr><tr><td>替换光标处字符</td><td>r + &lt;new_char&gt;</td><td></td></tr><tr><td>跳到文本末尾</td><td>G</td><td></td></tr><tr><td>跳到文本开头</td><td>gg</td><td></td></tr><tr><td>跳到指定行</td><td><line num=""></line> + G</td><td></td></tr><tr><td>向下搜索</td><td>/ + <key word=""></key></td><td></td></tr><tr><td>向上搜索</td><td>？ + <key word=""></key></td><td></td></tr><tr><td>查找下一个</td><td>n</td><td></td></tr><tr><td>查找上一个</td><td>N</td><td></td></tr><tr><td>跳到光标上一个所在的位置</td><td>ctrl + o</td><td>o for older</td></tr><tr><td>跳到光标下一个所在的位置</td><td>ctrl + i</td><td></td></tr><tr><td>找到对称的另一半括号(大中小括号都行)</td><td>将光标置于括号上然后按%</td><td></td></tr><tr><td>替换光标行第一个匹配项</td><td>:s/old/new/</td><td>old为待替换字符，new为新字符</td></tr><tr><td>替换光标行所有匹配项</td><td>:s/old/new/g</td><td>g for global</td></tr><tr><td>替换指定行所有匹配项</td><td>:#,#s/old/new/g</td><td>两个井号代表开始行和结束行</td></tr><tr><td>全局替换（无确认）</td><td>:%s/old/new/g</td><td></td></tr><tr><td>全局替换（逐个确认）</td><td>:%s/old/new/gc</td><td>c for comfirm</td></tr><tr><td>执行外部命令</td><td>:! + command</td><td>举例 :!ls  :!rm file</td></tr><tr><td>进入visual模式</td><td>v</td><td>进入visual模式后可以通过移动光标选中文字</td></tr><tr><td>复制选中文字</td><td>visual模式选中 + y</td><td></td></tr><tr><td>删除选中文字</td><td>visual模式选中 + d</td><td></td></tr><tr><td>选中文字另存为新文件</td><td>visual模式选中 + :w + <filename></filename></td><td></td></tr><tr><td>在光标后插入另一文件的内容</td><td>:r + filename</td><td>将filename附加到光标后</td></tr><tr><td>在光标后插入命令行的标准输出</td><td>:r + !ls -l</td><td>将ls -l输出附加到光标后</td></tr><tr><td>在光标下插一空行</td><td>o</td><td>o for open, open a line</td></tr><tr><td>在光标上插一空行</td><td>O</td><td></td></tr><tr><td>vim</td><td>:set xxx</td><td>‘ic’ ‘ignorecase’       ignore upper/lower case when searching <br>‘is’ ‘incsearch’        show partial matches for a search phrase <br>‘hls’ ‘hlsearch’        highlight all matching phrases <br>给以上选项前加上’no’即可撤销命令</td></tr><tr><td>查看帮助</td><td>:help</td><td>查看帮助时切换窗口ctrl + w</td></tr><tr><td>个性化vim配置文件</td><td>:e ~/.vimrc</td><td>查看帮助时切换窗口ctrl + w</td></tr></tbody></table><h2 id="获取帮助"><a href="#获取帮助" class="headerlink" title="获取帮助"></a>获取帮助</h2><h3 id="搜索帮助主题"><a href="#搜索帮助主题" class="headerlink" title="搜索帮助主题"></a>搜索帮助主题</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ man -k passwd         #搜索与关键字passwd有关的帮助       </span><br><span class="line">chpasswd (8)         - update passwords in batch mode</span><br><span class="line">fgetpwent_r (3)      - get passwd file entry reentrantly</span><br><span class="line">getpwent_r (3)       - get passwd file entry reentrantly</span><br><span class="line">gpasswd (1)          - administer /etc/group and /etc/gshadow</span><br><span class="line">grub2-mkpasswd-pbkdf2 (1) - Generate a PBKDF2 password hash.</span><br><span class="line">kpasswd (1)          - change a user&apos;s Kerberos password</span><br><span class="line">lpasswd (1)          - Change group or user password</span><br><span class="line">lppasswd (1)         - add, change, or delete digest passwords.</span><br></pre></td></tr></table></figure><h3 id="帮助分类"><a href="#帮助分类" class="headerlink" title="帮助分类"></a>帮助分类</h3><table><thead><tr><th>num</th><th>topic</th><th>note</th></tr></thead><tbody><tr><td>1</td><td>Executable programs or shell commands</td><td>用户命令</td></tr><tr><td>2</td><td>System calls (functions provided by the kernel)</td><td>系统调用</td></tr><tr><td>3</td><td>Library calls (functions within program libraries)</td><td>库函数</td></tr><tr><td>4</td><td>Special files (usually found in /dev)</td><td>特殊文件</td></tr><tr><td>5</td><td>File formats and conventions eg /etc/passwd</td><td>文件格式</td></tr><tr><td>6</td><td>Games</td><td>游戏</td></tr><tr><td>7</td><td>Miscellaneous (including macro packages and conventions), e.g. man(7), groff(7)</td><td>惯例、标准和其他</td></tr><tr><td>8</td><td>System administration commands (usually only for root)</td><td>系统管理命令</td></tr><tr><td>9</td><td>Kernel routines [Non standard]</td><td>Linux内核API</td></tr></tbody></table><h3 id="pinfo"><a href="#pinfo" class="headerlink" title="pinfo"></a>pinfo</h3><p>pinfo提供更详细的帮助文档<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat doc]$ pinfo vim</span><br></pre></td></tr></table></figure></p><h3 id="查看软件包文档"><a href="#查看软件包文档" class="headerlink" title="查看软件包文档"></a>查看软件包文档</h3><p>软件包文档储存在/usr/share/doc目录下，里面包含大量软件包提供的文档说明</p><h2 id="创建、查看和编辑文本文件"><a href="#创建、查看和编辑文本文件" class="headerlink" title="创建、查看和编辑文本文件"></a>创建、查看和编辑文本文件</h2><h3 id="标准输入、标准输出、标准错误"><a href="#标准输入、标准输出、标准错误" class="headerlink" title="标准输入、标准输出、标准错误"></a>标准输入、标准输出、标准错误</h3><p><img src="https://www.linuxunit.com/images/stdin-stdout-stderr.png" alt="https://www.linuxunit.com/io-redirection-stdin-stdout-stderr-streams/"></p><h3 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h3><h4 id="stdout重定向，-gt-覆盖写，-gt-gt-追加写"><a href="#stdout重定向，-gt-覆盖写，-gt-gt-追加写" class="headerlink" title="stdout重定向，&gt;覆盖写，&gt;&gt;追加写"></a>stdout重定向，&gt;覆盖写，&gt;&gt;追加写</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat doc]$ echo &quot;hello&quot; &gt; /tmp/hello.txt         #输出重定向，新建</span><br><span class="line">[shiming@redhat doc]$ cat /tmp/hello.txt</span><br><span class="line">hello</span><br><span class="line">[shiming@redhat doc]$ echo &quot;world&quot; &gt;&gt; /tmp/hello.txt        #输出重定向，追加 </span><br><span class="line">[shiming@redhat doc]$ cat /tmp/hello.txt</span><br><span class="line">hello</span><br><span class="line">world</span><br><span class="line">[shiming@redhat doc]$ echo &quot;hello world&quot; &gt; /tmp/hello.txt   #输出重定向，覆盖</span><br><span class="line">[shiming@redhat doc]$ cat /tmp/hello.txt</span><br><span class="line">hello world</span><br></pre></td></tr></table></figure><h4 id="stderr重定向"><a href="#stderr重定向" class="headerlink" title="stderr重定向"></a>stderr重定向</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat doc]$ echox &quot;hello world&quot; 2&gt;/tmp/hello_err.txt  #错误重定向，新建</span><br><span class="line">[shiming@redhat doc]$ cat /tmp/hello_err.txt</span><br><span class="line">bash: echox: command not found...</span><br><span class="line">Similar command is: &apos;echo&apos;</span><br><span class="line">[shiming@redhat doc]$ echoy &quot;hello world&quot; 2&gt;&gt;/tmp/hello_err.txt #错误重定向，追加</span><br><span class="line">[shiming@redhat doc]$ cat /tmp/hello_err.txt</span><br><span class="line">bash: echox: command not found...</span><br><span class="line">Similar command is: &apos;echo&apos;</span><br><span class="line">bash: echoy: command not found...</span><br><span class="line">Similar command is: &apos;echo&apos;</span><br><span class="line">[shiming@redhat doc]$ echoz &quot;hello world&quot; 2 &gt; /tmp/hello_err.txt #重定向符号左右不能空格</span><br><span class="line">bash: echoz: command not found...</span><br><span class="line">Similar command is: &apos;echo&apos;</span><br><span class="line">[shiming@redhat doc]$ echoz &quot;hello world&quot; 2&gt;/tmp/hello_err.txt   #错误重定向，覆盖</span><br><span class="line">[shiming@redhat doc]$ cat /tmp/hello_err.txt</span><br><span class="line">bash: echoz: command not found...</span><br><span class="line">Similar command is: &apos;echo&apos;</span><br><span class="line">[shiming@redhat doc]$ echoz &quot;hello world&quot; 2&gt;/dev/null            #将错误信息重定向到/dev/null，从而将它丢弃</span><br><span class="line">[shiming@redhat doc]$ cat /dev/null                              #无输出</span><br></pre></td></tr></table></figure><h4 id="stdout和stderr一起重定向"><a href="#stdout和stderr一起重定向" class="headerlink" title="stdout和stderr一起重定向"></a>stdout和stderr一起重定向</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ command &gt;file 2&gt;&amp;1            #重定向stdout和stderr以覆盖同一个文件</span><br><span class="line">$ command &amp;&gt;file                #与上面等效(推荐)</span><br><span class="line"></span><br><span class="line">$ command &gt;&gt;file 2&gt;&amp;1           #重定向stdout和stderr以附加到同一个文件</span><br><span class="line">$ command &amp;&gt;&gt;file               #与上面等效(推荐)</span><br><span class="line"></span><br><span class="line">#示例：</span><br><span class="line">[shiming@redhat doc]$ echo &quot;nice day&quot; &amp;&gt;/tmp/nice.txt</span><br><span class="line">[shiming@redhat doc]$ cat /tmp/nice.txt </span><br><span class="line">nice day</span><br><span class="line">[shiming@redhat doc]$ echoa &quot;nice day&quot; &amp;&gt;&gt;/tmp/nice.txt</span><br><span class="line">[shiming@redhat doc]$ cat /tmp/nice.txt </span><br><span class="line">nice day</span><br><span class="line">bash: echoa: command not found...</span><br><span class="line">Similar command is: &apos;echo&apos;</span><br></pre></td></tr></table></figure><h4 id="重定向示例"><a href="#重定向示例" class="headerlink" title="重定向示例"></a>重定向示例</h4><h5 id="保存时间戳供以后参考"><a href="#保存时间戳供以后参考" class="headerlink" title="保存时间戳供以后参考"></a>保存时间戳供以后参考</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ date &gt; /tmp/saved_timestamp</span><br></pre></td></tr></table></figure><h5 id="将一个日志的后100行负责到另一文件"><a href="#将一个日志的后100行负责到另一文件" class="headerlink" title="将一个日志的后100行负责到另一文件"></a>将一个日志的后100行负责到另一文件</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ tail -n 100 /var/log/dmesg &gt;/tmp/last_100_boot_msg</span><br></pre></td></tr></table></figure><h5 id="将四个文件连接为一个"><a href="#将四个文件连接为一个" class="headerlink" title="将四个文件连接为一个"></a>将四个文件连接为一个</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ cat file1 file2 file3 file4 &gt;/tmp/four_in_one</span><br></pre></td></tr></table></figure><h5 id="将文件名列出到文件中"><a href="#将文件名列出到文件中" class="headerlink" title="将文件名列出到文件中"></a>将文件名列出到文件中</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ cat /tmp/filename</span><br></pre></td></tr></table></figure><h5 id="将输出附加到现有文件"><a href="#将输出附加到现有文件" class="headerlink" title="将输出附加到现有文件"></a>将输出附加到现有文件</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ echo &quot;new line info&quot; &gt;&gt;/tmp/many_lines_of_info</span><br><span class="line">[shiming@redhat ~]$ diff previous_file current_file &gt;&gt;/tmp/tracking_change_made</span><br></pre></td></tr></table></figure><h5 id="将错误重定向到文件"><a href="#将错误重定向到文件" class="headerlink" title="将错误重定向到文件"></a>将错误重定向到文件</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ find /etc -name passwd 2&gt;/tmp/error</span><br></pre></td></tr></table></figure><h5 id="将输出和错误分别定向到不同文件"><a href="#将输出和错误分别定向到不同文件" class="headerlink" title="将输出和错误分别定向到不同文件"></a>将输出和错误分别定向到不同文件</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ find /etc -name passwd &gt;/tmp/output 2&gt;/tmp/error</span><br></pre></td></tr></table></figure><h5 id="忽略并丢弃错误信息"><a href="#忽略并丢弃错误信息" class="headerlink" title="忽略并丢弃错误信息"></a>忽略并丢弃错误信息</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ find /etc -name passwd &gt;/tmp/output 2&gt;/dev/null</span><br></pre></td></tr></table></figure><h5 id="将输出和错误信息一并保存"><a href="#将输出和错误信息一并保存" class="headerlink" title="将输出和错误信息一并保存"></a>将输出和错误信息一并保存</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ find /etc -name passwd &amp;&gt;/tmp/save_both</span><br></pre></td></tr></table></figure><h5 id="将输出和错误信息附加保存"><a href="#将输出和错误信息附加保存" class="headerlink" title="将输出和错误信息附加保存"></a>将输出和错误信息附加保存</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ find /etc -name passwd &amp;&gt;&gt;/tmp/save_both</span><br></pre></td></tr></table></figure><h3 id="管道"><a href="#管道" class="headerlink" title="管道"></a>管道</h3><p><img src="https://17fba4f9-a-62cb3a1a-s-sites.googlegroups.com/site/jocvlib/ethiopia/computer/linux/standard-linux-textbook/ch03/fig03-02.jpg?attachauth=ANoY7criN_2_KAHzVkRLkqXYnbO4nfF0VL9wd9AaWhPhLTk9fNbP9qMSGtlH-hi_ozjge_WCHA6WsdYnGYC84_U74BctPVnJPUsqL4pWhmHrrZalPOIiRbh-MkmNtdU-ndBNnQYYX0TecOBeCc2Jw1i9Usl-QgEwkQAmF_-pGmtadTsQ2czYxjTbRus437ntxO-VjW-iU6U1FDJW2CKMtG2WrbrJgw20R67mL8Efu4sB8RDgVJoRffDTz_IvqFHSlaKUYXLfzITurK8lw0d4g0ZBaxQJXpoy63BdamI7cVf4ZqEjdHTDfic%3D&amp;attredirects=0" alt=""></p><h4 id="管道示例"><a href="#管道示例" class="headerlink" title="管道示例"></a>管道示例</h4><h5 id="单一管道"><a href="#单一管道" class="headerlink" title="单一管道"></a>单一管道</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ ls | wc -l            #计算文件数</span><br><span class="line">14</span><br></pre></td></tr></table></figure><h5 id="管道和重定向组合使用"><a href="#管道和重定向组合使用" class="headerlink" title="管道和重定向组合使用"></a>管道和重定向组合使用</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#将ls -l命令输出前5行重定向到 /tmp.first_five_lines文件</span><br><span class="line">[shiming@redhat ~]$ ls -l | head -n 5 &gt; /tmp/first_five_lines  </span><br><span class="line">[shiming@redhat ~]$ cat /tmp/first_five_lines </span><br><span class="line">total 36</span><br><span class="line">drwxr-xr-x. 2 shiming shiming 4096 Mar  3 11:35 Desktop</span><br><span class="line">drwxr-xr-x. 2 shiming shiming 4096 Jan 13  2018 Documents</span><br><span class="line">drwxr-xr-x. 2 shiming shiming 4096 Jan 13  2018 Downloads</span><br><span class="line">-rw-rw-r--. 1 shiming shiming    0 Jul 28 09:41 file1</span><br></pre></td></tr></table></figure><h5 id="tee"><a href="#tee" class="headerlink" title="tee"></a>tee</h5><p>Copy standard input to each FILE, and also to standard output.<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ ls -l file* | tee /tmp/saved_output   #文件中有保持，stdout也打印</span><br><span class="line">-rw-rw-r--. 1 shiming shiming 0 Jul 28 09:41 file1</span><br><span class="line">-rw-rw-r--. 1 shiming shiming 0 Jul 28 09:41 file2</span><br><span class="line">-rw-rw-r--. 1 shiming shiming 0 Jul 28 09:41 file3</span><br><span class="line">-rw-rw-r--. 1 shiming shiming 0 Jul 28 09:41 file4</span><br><span class="line">-rw-rw-r--. 1 shiming shiming 0 Jul 28 09:41 file5</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ ls -l file* | head -n 2 | tee /tmp/first_two_lines</span><br><span class="line">-rw-rw-r--. 1 shiming shiming 0 Jul 28 09:41 file1</span><br><span class="line">-rw-rw-r--. 1 shiming shiming 0 Jul 28 09:41 file2</span><br></pre></td></tr></table></figure><h2 id="用户和组"><a href="#用户和组" class="headerlink" title="用户和组"></a>用户和组</h2><h3 id="查看当前用户信息"><a href="#查看当前用户信息" class="headerlink" title="查看当前用户信息"></a>查看当前用户信息</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[shiming@redhat ~]$ id</span><br><span class="line">uid=1000(shiming) gid=1000(shiming) groups=1000(shiming),10(wheel) context=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023</span><br></pre></td></tr></table></figure><h3 id="passwd文件格式"><a href="#passwd文件格式" class="headerlink" title="passwd文件格式"></a>passwd文件格式</h3><p><img src="https://www.cyberciti.biz/media/ssb.images/uploaded_images/passwd-file-791527.png" alt=""></p><ol><li><strong>Username</strong>: It is used when user logs in. It should be between 1 and 32 characters in length.</li><li><strong>Password</strong>: An x character indicates that encrypted password is stored in /etc/shadow file. Please note that you need to use the passwd command to computes the hash of a password typed at the CLI or to store/update the hash of the password in /etc/shadow file.</li><li><strong>User ID (UID)</strong>: Each user must be assigned a user ID (UID). UID 0 (zero) is reserved for root and UIDs 1-99 are reserved for other predefined accounts. Further UID 100-999 are reserved by system for administrative and system accounts/groups.</li><li><strong>Group ID (GID)</strong>: The primary group ID (stored in /etc/group file)</li><li><strong>User ID Info</strong>: The comment field. It allow you to add extra information about the users such as user’s full name, phone number etc. This field use by finger command.</li><li><strong>Home directory</strong>: The absolute path to the directory the user will be in when they log in. If this directory does not exists then users directory becomes /</li><li><strong>Command/shell</strong>: The absolute path of a command or shell (/bin/bash). Typically, this is a shell. Please note that it does not have to be a shell.</li></ol><h3 id="在passwd文件中搜索用户"><a href="#在passwd文件中搜索用户" class="headerlink" title="在passwd文件中搜索用户"></a>在passwd文件中搜索用户</h3><p>搜索用户tom<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ grep tom /etc/passwd</span><br></pre></td></tr></table></figure></p><h3 id="组"><a href="#组" class="headerlink" title="组"></a>组</h3><p>与用户一样，组也有名称和编号（GID)。本地组在/etc/group中定义</p><h4 id="主要组"><a href="#主要组" class="headerlink" title="主要组"></a>主要组</h4><ul><li>每个用户只有一个主要组</li><li>对于本地用户，主要组通过/etc/passwd第四个字段定义</li><li>通常，用户创建的新文件归主要组所有</li><li>通常，新建用户的主要组是名称与用户相同的新建组，用户是此用户专用组（UPG)的唯一成员</li></ul><h4 id="补充组"><a href="#补充组" class="headerlink" title="补充组"></a>补充组</h4><p>用户可以是零个或多个补充组的成员。<br>属于本地组补充成员的用户列在/etc/group中组条目的最后一个字段中。对于本地组，成员身份由/etc/group中组条目的最后一个字段中的逗号分隔用户列表确定。</p><h2 id="实用技巧"><a href="#实用技巧" class="headerlink" title="实用技巧"></a>实用技巧</h2><h3 id="ubuntu安装mysql"><a href="#ubuntu安装mysql" class="headerlink" title="ubuntu安装mysql"></a>ubuntu安装mysql</h3><p><a href="https://github.com/rackerlabs/rackspace-how-to/edit/master/content/cloud-servers/installing-mysql-server-on-ubuntu.md" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/rackerlabs/rackspace-how-to/edit/master/content/cloud-servers/installing-mysql-server-on-ubuntu.md</a></p><h3 id="配置mysql"><a href="#配置mysql" class="headerlink" title="配置mysql"></a>配置mysql</h3><p><a href="https://github.com/rackerlabs/rackspace-how-to/edit/master/content/cloud-servers/configuring-mysql-server-on-ubuntu.md" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/rackerlabs/rackspace-how-to/edit/master/content/cloud-servers/configuring-mysql-server-on-ubuntu.md</a></p><h3 id="mysql开启远程连接"><a href="#mysql开启远程连接" class="headerlink" title="mysql开启远程连接"></a>mysql开启远程连接</h3><p>安装mysql后默认只支持127.0.0.1访问3306端口<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">shiming@ubuntu:/etc/mysql/conf.d$ netstat -aptn</span><br><span class="line">(Not all processes could be identified, non-owned process info</span><br><span class="line"> will not be shown, you would have to be root to see it all.)</span><br><span class="line">Active Internet connections (servers and established)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name</span><br><span class="line">tcp        0      0 127.0.1.1:53            0.0.0.0:*               LISTEN      -</span><br><span class="line">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      -</span><br><span class="line">tcp        0      0 127.0.0.1:631           0.0.0.0:*               LISTEN      -</span><br><span class="line">tcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN      -</span><br><span class="line">tcp        0      0 10.1.1.236:22           10.1.1.232:50221        ESTABLISHED -</span><br><span class="line">tcp        0      0 10.211.55.7:22          10.211.55.2:50237       ESTABLISHED -</span><br><span class="line">tcp6       0      0 :::22                   :::*                    LISTEN      -</span><br><span class="line">tcp6       0      0 ::1:631                 :::*                    LISTEN      -</span><br></pre></td></tr></table></figure></p><p>要想让mysql listen 0.0.0.0:3306需要在其配置文件<code>/etc/mysql/mysql.conf.d/mysqld.cnf</code>找到<code>bind-address            = 127.0.0.1</code>改成 <code>bind-address            = 0.0.0.0</code> 这个操作需要管理员权限</p><p>然后重启mysql<br><code>systemctl restart mysql</code></p><p>再次查看端口状态，发现已经在监听0.0.0.0:3306了<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">shiming@ubuntu:/etc/mysql/mysql.conf.d$ netstat -aptn</span><br><span class="line">(Not all processes could be identified, non-owned process info</span><br><span class="line"> will not be shown, you would have to be root to see it all.)</span><br><span class="line">Active Internet connections (servers and established)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name</span><br><span class="line">tcp        0      0 127.0.1.1:53            0.0.0.0:*               LISTEN      -</span><br><span class="line">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      -</span><br><span class="line">tcp        0      0 127.0.0.1:631           0.0.0.0:*               LISTEN      -</span><br><span class="line">tcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN      -</span><br></pre></td></tr></table></figure></p><p>试下使用外网地址连接<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">shiming@ubuntu:/etc/mysql/mysql.conf.d$ mysql -h 10.211.55.7:3306 -u root -p</span><br><span class="line">Enter password:</span><br><span class="line">ERROR 2005 (HY000): Unknown MySQL server host <span class="string">'10.211.55.7:3306'</span> (0)</span><br><span class="line">shiming@ubuntu:/etc/mysql/mysql.conf.d$ mysql -h 10.211.55.7 -P 3306 -u root -p</span><br><span class="line">Enter password:</span><br><span class="line">ERROR 1130 (HY000): Host <span class="string">'ubuntu.shared'</span> is not allowed to connect to this MySQL server</span><br></pre></td></tr></table></figure></p><p>发现失败了，第一个原因是不支持host:3306这样方式，需要用-h 10.211.55.7 -P 3306这样的方式，第二个原因是mysql的root账户只开启了localhost访问权限,登录后使用<code>SELECT host FROM mysql.user WHERE User = &#39;root&#39;;</code>命令可查看<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">shiming@ubuntu:/etc/mysql/mysql.conf.d$ mysql -u root -p</span><br><span class="line">Enter password:</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 6</span><br><span class="line">Server version: 5.7.23-0ubuntu0.16.04.1 (Ubuntu)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="string">'help;'</span> or <span class="string">'\h'</span> <span class="keyword">for</span> <span class="built_in">help</span>. Type <span class="string">'\c'</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; SELECT host FROM mysql.user WHERE User = <span class="string">'root'</span>;</span><br><span class="line">+-----------+</span><br><span class="line">| host      |</span><br><span class="line">+-----------+</span><br><span class="line">| localhost |</span><br><span class="line">+-----------+</span><br><span class="line">1 row <span class="keyword">in</span> <span class="built_in">set</span> (0.00 sec)</span><br></pre></td></tr></table></figure></p><p>新建一个mysql user赋予远程访问权限<br><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql&gt; CREATE USER 'shiming'@'localhost' IDENTIFIED BY 'pass';</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; GRANT ALL PRIVILEGES ON *.* TO 'shiming'@'localhost' WITH GRANT OPTION;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; CREATE USER 'shiming'@'%' IDENTIFIED BY 'pass';</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; GRANT ALL PRIVILEGES ON *.* TO 'shiming'@'%' WITH GRANT OPTION;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; FLUSH PRIVILEGES;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure></p><p>使用新建的用户登录，登录成功</p><h3 id="ubuntu下terminal复制-粘贴命令快捷键设置"><a href="#ubuntu下terminal复制-粘贴命令快捷键设置" class="headerlink" title="ubuntu下terminal复制/粘贴命令快捷键设置"></a>ubuntu下terminal复制/粘贴命令快捷键设置</h3><p>Edit → Keyboard Shortcuts menu. 下可配置快捷键</p><h3 id="ssh配置免密码远程登陆"><a href="#ssh配置免密码远程登陆" class="headerlink" title="ssh配置免密码远程登陆"></a>ssh配置免密码远程登陆</h3><p>ssh-copy-id将本地公钥copy到远程服务器允许的主机中去<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ ssh-copy-id -i ~/.ssh/id_rsa.pub root@47.52.96.235</span><br><span class="line">/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: &quot;/Users/Shiming/.ssh/id_rsa.pub&quot;</span><br><span class="line">The authenticity of host &apos;47.52.96.235 (127.0.0.1)&apos; can&apos;t be established.</span><br><span class="line">ECDSA key fingerprint is SHA256:H0LIGfcGjxFjilR+V6IQt/T97MGRczTQvmx2jXE3Irs.</span><br><span class="line">Are you sure you want to continue connecting (yes/no)? yes</span><br><span class="line">/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed</span><br><span class="line">/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys</span><br><span class="line">root@47.52.96.235&apos;s password: </span><br><span class="line"></span><br><span class="line">Number of key(s) added:        1</span><br><span class="line"></span><br><span class="line">Now try logging into the machine, with:   &quot;ssh &apos;root@47.52.96.235&apos;&quot;</span><br><span class="line">and check to make sure that only the key(s) you wanted were added.</span><br></pre></td></tr></table></figure></p><h3 id="ssh保持连接"><a href="#ssh保持连接" class="headerlink" title="ssh保持连接"></a>ssh保持连接</h3><p>ssh远程连接服务器老是超时自动断开，如何保持不断？<br><strong>方案一：在客户端设置</strong><br>方法很简单，只需在客户端电脑上编辑（需要root权限）/etc/ssh/ssh_config，并添加如下一行：</p><blockquote><p>ServerAliveInterval 30</p></blockquote><p>此后该系统里的用户连接SSH时，每30秒会发一个KeepAlive请求，避免被踢。</p><p><strong>方案二：在服务器设置</strong><br>如果有相应的权限，也可以在服务器端设置，即编辑/etc/ssh/sshd_config，并添加：</p><blockquote><p>ClientAliveInterval 60</p></blockquote><p>重启SSH服务器后该项设置会生效。每一个连接到此服务器上的客户端都会受其影响。应注意启用该功能后，安全性会有一定下降（比如忘记登出时……）</p><h3 id="mac中命令行调用起vscode打开目录-文件"><a href="#mac中命令行调用起vscode打开目录-文件" class="headerlink" title="mac中命令行调用起vscode打开目录/文件"></a>mac中命令行调用起vscode打开目录/文件</h3><p><a href="https://code.visualstudio.com/docs/setup/mac" rel="external nofollow noopener noreferrer" target="_blank">https://code.visualstudio.com/docs/setup/mac</a></p><h3 id="开机启动服务"><a href="#开机启动服务" class="headerlink" title="开机启动服务"></a>开机启动服务</h3><p>Ubuntu开机之后会执行/etc/rc.local文件中的脚本，可以直接在/etc/rc.local中添加启动脚本, 要添加到语句：exit 0 前面才行。<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vi /etc/rc.local</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">rc.local文件：</span><br><span class="line">``` bash</span><br><span class="line"><span class="comment">#!/bin/sh -e</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># rc.local</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># This script is executed at the end of each multiuser runlevel.</span></span><br><span class="line"><span class="comment"># Make sure that the script will "exit 0" on success or any other</span></span><br><span class="line"><span class="comment"># value on error.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># In order to enable or disable this script just change the execution</span></span><br><span class="line"><span class="comment"># bits.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># By default this script does nothing.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># add by shiming to auto run in system restart for bitcoin testnet and ethereum testnet</span></span><br><span class="line">nohup geth --testnet --datadir /mnt/ethereum/ --syncmode <span class="string">"full"</span> --rpc --ws &amp;</span><br><span class="line">nohup btcd --testnet --datadir /mnt/bitcoin/ &amp;</span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure></p><h3 id="使用nginx反向代理本地端口"><a href="#使用nginx反向代理本地端口" class="headerlink" title="使用nginx反向代理本地端口"></a>使用nginx反向代理本地端口</h3><p>nginx 的配置文件位置为 <code>/etc/nginx/nginx.conf</code><br>但是在这个配置中include了其他配置文件<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">include /etc/nginx/conf.d/*.conf;</span><br><span class="line">include /etc/nginx/sites-enabled/*;</span><br></pre></td></tr></table></figure></p><p>所以我们在conf.d中编写配置文件即可 <code>/etc/nginx/conf.d/btcd.conf</code></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">server&#123;</span><br><span class="line">        listen 9000;   <span class="comment"># 对外端口</span></span><br><span class="line">        <span class="comment"># using web1 sub domain to access</span></span><br><span class="line">        server_name 127.0.0.1 47.75.70.201;</span><br><span class="line">        access_log  /var/<span class="built_in">log</span>/nginx/btcd.log;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            proxy_pass http://127.0.0.1:18334; <span class="comment"># 代理端口</span></span><br><span class="line">            proxy_read_timeout 300;</span><br><span class="line">            proxy_connect_timeout 300;</span><br><span class="line">            proxy_redirect     off;</span><br><span class="line"></span><br><span class="line">            proxy_set_header   X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">            proxy_set_header   Host              <span class="variable">$http_host</span>;</span><br><span class="line">            proxy_set_header   X-Real-IP         <span class="variable">$remote_addr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">配置完了检查nginx配置是否正确</span><br><span class="line">``` bash</span><br><span class="line">$ conf.d nginx -t</span><br><span class="line">nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</span><br><span class="line">nginx: configuration file /etc/nginx/nginx.conf <span class="built_in">test</span> is successful</span><br></pre></td></tr></table></figure><p>重启nginx生效配置<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">➜  conf.d systemctl restart nginx</span><br></pre></td></tr></table></figure></p><p>查看端口是否被监听<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">➜  conf.d lsof -i:9000</span><br><span class="line">COMMAND  PID     USER   FD   TYPE DEVICE SIZE/OFF NODE NAME</span><br><span class="line">nginx   2821     root    7u  IPv4 535089      0t0  TCP *:9000 (LISTEN)</span><br><span class="line">nginx   2822 www-data    7u  IPv4 535089      0t0  TCP *:9000 (LISTEN)</span><br><span class="line">nginx   2823 www-data    7u  IPv4 535089      0t0  TCP *:9000 (LISTEN)</span><br><span class="line">nginx   2824 www-data    7u  IPv4 535089      0t0  TCP *:9000 (LISTEN)</span><br><span class="line">nginx   2825 www-data    7u  IPv4 535089      0t0  TCP *:9000 (LISTEN)</span><br><span class="line">nginx   2826 www-data    7u  IPv4 535089      0t0  TCP *:9000 (LISTEN)</span><br><span class="line">nginx   2827 www-data    7u  IPv4 535089      0t0  TCP *:9000 (LISTEN)</span><br><span class="line">nginx   2828 www-data    7u  IPv4 535089      0t0  TCP *:9000 (LISTEN)</span><br><span class="line">nginx   2830 www-data    7u  IPv4 535089      0t0  TCP *:9000 (LISTEN)</span><br></pre></td></tr></table></figure></p><h3 id="在命令行中调用sublime-text编辑文本"><a href="#在命令行中调用sublime-text编辑文本" class="headerlink" title="在命令行中调用sublime text编辑文本"></a>在命令行中调用sublime text编辑文本</h3><p>执行以下命令<br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ln -s <span class="string">"/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl"</span> /usr/<span class="built_in">local</span>/bin/sublime</span><br></pre></td></tr></table></figure></p><p>参考 <a href="https://olivierlacan.com/posts/launch-sublime-text-3-from-the-command-line/" rel="external nofollow noopener noreferrer" target="_blank">https://olivierlacan.com/posts/launch-sublime-text-3-from-the-command-line/</a></p><h2 id="troubleshooting"><a href="#troubleshooting" class="headerlink" title="troubleshooting"></a>troubleshooting</h2><h3 id="ssh-connection-refused"><a href="#ssh-connection-refused" class="headerlink" title="ssh connection refused"></a>ssh connection refused</h3><ol><li>先判断ssh是否安装<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">shiming@ubuntu:/etc/ssh$ ps -e | grep ssh</span><br><span class="line">shiming@ubuntu:/etc/ssh$ /etc/init.d/ssh -start</span><br><span class="line">bash: /etc/init.d/ssh: No such file or directory</span><br><span class="line">shiming@ubuntu:/etc/ssh$ whichis ssh</span><br><span class="line">whichis: <span class="built_in">command</span> not found</span><br></pre></td></tr></table></figure></li></ol><p>发现ssh未安装</p><ol start="2"><li><p>安装ssh-server</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">shiming@ubuntu:/etc/ssh$ sudo apt-get install openssh-server</span><br></pre></td></tr></table></figure></li><li><p>启动ssh服务</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">shiming@ubuntu:/etc/ssh$ systemctl start sshd</span><br><span class="line">shiming@ubuntu:/etc/ssh$ ps -e|grep ssh</span><br><span class="line"> 5602 ?        00:00:00 sshd</span><br></pre></td></tr></table></figure></li><li><p>本地连接ssh进行测试</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">shiming@ubuntu:/etc/ssh$ ssh shiming@localhost</span><br><span class="line">The authenticity of host <span class="string">'localhost (127.0.0.1)'</span> can<span class="string">'t be established.</span></span><br><span class="line"><span class="string">ECDSA key fingerprint is SHA256:fHN3yPgM87SlGdXxzvvCGzqf3ARmN2iyyq9EfNwSMo4.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no)? yes</span></span><br><span class="line"><span class="string">Warning: Permanently added '</span>localhost<span class="string">' (ECDSA) to the list of known hosts.</span></span><br><span class="line"><span class="string">shiming@localhost'</span>s password: </span><br><span class="line">Welcome to Ubuntu 16.04.3 LTS (GNU/Linux 4.10.0-28-generic x86_64)</span><br></pre></td></tr></table></figure></li><li><p>ifconfig查看外网地址<br>inet即外网地址</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">shiming@ubuntu:/etc/ssh$ ifconfig</span><br><span class="line">enp0s5    Link encap:Ethernet  HWaddr 00:1c:42:28:80:a2  </span><br><span class="line">          inet addr:10.211.55.7  Bcast:10.211.55.255  Mask:255.255.255.0</span><br><span class="line">          inet6 addr: fe80::2598:3ddc:aea:479b/64 Scope:Link</span><br><span class="line">          inet6 addr: fdb2:2c26:f4e4:0:2cb3:821a:c4:a047/64 Scope:Global</span><br><span class="line">          inet6 addr: fdb2:2c26:f4e4:0:2991:5c69:98eb:d6a5/64 Scope:Global</span><br><span class="line">          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1</span><br><span class="line">          RX packets:1142 errors:0 dropped:0 overruns:0 frame:0</span><br><span class="line">          TX packets:840 errors:0 dropped:0 overruns:0 carrier:0</span><br><span class="line">          collisions:0 txqueuelen:1000 </span><br><span class="line">          RX bytes:1332342 (1.3 MB)  TX bytes:83530 (83.5 KB)</span><br><span class="line"></span><br><span class="line">lo        Link encap:Local Loopback  </span><br><span class="line">          inet addr:127.0.0.1  Mask:255.0.0.0</span><br><span class="line">          inet6 addr: ::1/128 Scope:Host</span><br><span class="line">          UP LOOPBACK RUNNING  MTU:65536  Metric:1</span><br><span class="line">          RX packets:310 errors:0 dropped:0 overruns:0 frame:0</span><br><span class="line">          TX packets:310 errors:0 dropped:0 overruns:0 carrier:0</span><br><span class="line">          collisions:0 txqueuelen:1000 </span><br><span class="line">          RX bytes:27329 (27.3 KB)  TX bytes:27329 (27.3 KB)</span><br></pre></td></tr></table></figure></li><li><p>通过外网进行ssh连接（略）</p></li></ol><h3 id="vi编辑，上下左右箭头变成ABCD-delete键无法删除解决办法"><a href="#vi编辑，上下左右箭头变成ABCD-delete键无法删除解决办法" class="headerlink" title="vi编辑，上下左右箭头变成ABCD/delete键无法删除解决办法"></a>vi编辑，上下左右箭头变成ABCD/delete键无法删除解决办法</h3><p><a href="https://askubuntu.com/questions/353911/hitting-arrow-keys-adds-characters-in-vi-editor" rel="external nofollow noopener noreferrer" target="_blank">https://askubuntu.com/questions/353911/hitting-arrow-keys-adds-characters-in-vi-editor</a></p><h3 id="关闭ubuntu图形界面"><a href="#关闭ubuntu图形界面" class="headerlink" title="关闭ubuntu图形界面"></a>关闭ubuntu图形界面</h3><p>关闭图形界面可以让虚拟机少占用一些资源<br>参考： <a href="https://wiki.zthxxx.me/wiki/%E6%8A%80%E6%9C%AF%E5%BC%80%E5%8F%91/Linux/Ubuntu/Ubuntu-16-%E5%BC%80%E6%9C%BA%E9%BB%98%E8%AE%A4%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2/" rel="external nofollow noopener noreferrer" target="_blank">https://wiki.zthxxx.me/wiki/%E6%8A%80%E6%9C%AF%E5%BC%80%E5%8F%91/Linux/Ubuntu/Ubuntu-16-%E5%BC%80%E6%9C%BA%E9%BB%98%E8%AE%A4%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%95%8C%E9%9D%A2/</a><br><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">shiming@ubuntu:~$ sudo systemctl <span class="built_in">set</span>-default multi-user.target</span><br><span class="line">[sudo] password <span class="keyword">for</span> shiming: </span><br><span class="line">Created symlink from /etc/systemd/system/default.target to /lib/systemd/system/multi-user.target.</span><br></pre></td></tr></table></figure></p><h3 id="关闭centos图形界面"><a href="#关闭centos图形界面" class="headerlink" title="关闭centos图形界面"></a>关闭centos图形界面</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">➜  ~ systemctl <span class="built_in">set</span>-default multi-user.target</span><br><span class="line">Removed symlink /etc/systemd/system/default.target.</span><br><span class="line">Created symlink from /etc/systemd/system/default.target to /usr/lib/systemd/system/multi-user.target.</span><br></pre></td></tr></table></figure><h3 id="修改hostname"><a href="#修改hostname" class="headerlink" title="修改hostname"></a>修改hostname</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hostnamectl <span class="built_in">set</span>-hostname newhostnameyouwant</span><br></pre></td></tr></table></figure><h3 id="升级vim"><a href="#升级vim" class="headerlink" title="升级vim"></a>升级vim</h3><p><a href="https://stackoverflow.com/questions/39861793/how-update-vim-to-8-0-version-in-osx" rel="external nofollow noopener noreferrer" target="_blank">https://stackoverflow.com/questions/39861793/how-update-vim-to-8-0-version-in-osx</a></p><h3 id="安装vim-go"><a href="#安装vim-go" class="headerlink" title="安装vim-go"></a>安装vim-go</h3><h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h2><h3 id="bash-reference"><a href="#bash-reference" class="headerlink" title="bash reference"></a>bash reference</h3><p><a href="http://www.gnu.org/software/bash/manual/bashref.html" rel="external nofollow noopener noreferrer" target="_blank">http://www.gnu.org/software/bash/manual/bashref.html</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;命令行移动&quot;&gt;&lt;a href=&quot;#命令行移动&quot; class=&quot;headerlink&quot; title=&quot;命令行移动&quot;&gt;&lt;/a&gt;命令行移动&lt;/h2&gt;&lt;h3 id=&quot;Basic-moves&quot;&gt;&lt;a href=&quot;#Basic-moves&quot; class=&quot;headerlink
      
    
    </summary>
    
      <category term="Linux" scheme="http://huahuayu.io/categories/Linux/"/>
    
    
      <category term="linux redhat ubuntu" scheme="http://huahuayu.io/tags/linux-redhat-ubuntu/"/>
    
  </entry>
  
</feed>
